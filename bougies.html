<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bougies â€” EternaGlow</title>
  <meta name="description" content="Bougies transparentes avec inclusions et bougies moulÃ©es poÃ©tiques. PrÃ©-commandes et sur-mesure." />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header">
    <div class="wrap">
      <a class="brand" href="index.html"><span class="brand-logo">âœ¨</span><span class="brand-text">EternaGlow</span></a>
      <nav class="nav">
        <a class="nav-link" href="chakras.html">Chakra</a>
        <a class="nav-link" href="bougies.html" aria-current="page">Bougies</a>
        <a class="nav-link" href="savons.html">Savons</a>
        <a class="nav-link" href="bracelets.html">Bracelets</a>
        <a class="nav-link" href="rituels.html">Rituels</a>
        <a class="nav-link" href="faq.html">FAQ</a>
      </nav>
      <div class="cart-area"><button class="cart-button" id="openCartBtn">ğŸ›’ <span id="cartCount">0</span></button></div>
    </div>
  </header>

  <main class="section">
    <div class="wrap">
      <h1>Bougies artisanales</h1>
      <p class="sub">Transparences (inclusions coquillages/fleurs) & formes moulÃ©es (lune, fleur, corps). Photos rÃ©elles Ã  venir.</p>

      <div class="grid">
        <article class="card product" data-id="CAND-TRANSP-COQ" data-name="Bougie transparente â€” Coquillages" data-price="18">
          <img src="https://placehold.co/600x600/fff4f8/9c8f87?text=Bougie+Coquillages" alt="Bougie transparente avec coquillages â€” visuel Ã  venir" width="600" height="600" loading="lazy">
          <div class="card-body">
            <span class="badge">Ã€ venir</span>
            <h3>Bougie transparente â€” Coquillages</h3>
            <p>Effet verre clair, inclusions de coquillages naturels.</p>
            <p class="price">18 â‚¬</p>
            <div class="card-actions"><button class="btn btn-primary addToCart">PrÃ©-commander</button></div>
          </div>
        </article>

        <article class="card product" data-id="CAND-TRANSP-FLEUR" data-name="Bougie transparente â€” Fleurs sÃ©chÃ©es" data-price="18">
          <img src="https://placehold.co/600x600/fff4f8/9c8f87?text=Bougie+Fleurs" alt="Bougie transparente fleurs â€” visuel Ã  venir" width="600" height="600" loading="lazy">
          <div class="card-body">
            <span class="badge">Ã€ venir</span>
            <h3>Bougie transparente â€” Fleurs sÃ©chÃ©es</h3>
            <p>Inclusions florales dÃ©licates. Parfums doux.</p>
            <p class="price">18 â‚¬</p>
            <div class="card-actions"><button class="btn btn-primary addToCart">PrÃ©-commander</button></div>
          </div>
        </article>

        <article class="card product" data-id="CAND-MOULE-LUNE" data-name="Bougie moulÃ©e â€” Lune" data-price="14">
          <img src="https://placehold.co/600x600/fff4f8/9c8f87?text=Bougie+Lune" alt="Bougie moulÃ©e en forme de lune â€” visuel Ã  venir" width="600" height="600" loading="lazy">
          <div class="card-body">
            <span class="badge">Ã€ venir</span>
            <h3>Bougie moulÃ©e â€” Lune</h3>
            <p>Cire vÃ©gÃ©tale, forme poÃ©tique.</p>
            <p class="price">14 â‚¬</p>
            <div class="card-actions"><button class="btn btn-primary addToCart">PrÃ©-commander</button></div>
          </div>
        </article>

        <article class="card product" data-id="CAND-MOULE-CORPS" data-name="Bougie moulÃ©e â€” Corps fÃ©minin" data-price="22">
          <img src="https://placehold.co/600x600/fff4f8/9c8f87?text=Corps+F%C3%A9minin" alt="Bougie moulÃ©e corps fÃ©minin â€” visuel Ã  venir" width="600" height="600" loading="lazy">
          <div class="card-body">
            <span class="badge">SÃ©rie</span>
            <h3>Bougie moulÃ©e â€” Corps fÃ©minin</h3>
            <p>Cire soja/coco, silhouette stylisÃ©e.</p>
            <p class="price">22 â‚¬</p>
            <div class="card-actions"><button class="btn btn-primary addToCart">PrÃ©-commander</button></div>
          </div>
        </article>
      </div>

      <p class="sub" style="margin-top:16px;">Besoin dâ€™une inclusion ou dâ€™une forme prÃ©cise ? <a class="btn btn-wa" target="_blank" rel="noopener" href="https://wa.me/33749586005?text=Bonjour%20EternaGlow%2C%20je%20souhaite%20une%20bougie%20personnalis%C3%A9e%20:%20...">Parlez-nous de votre idÃ©e</a></p>
    </div>
  </main>

 <!-- ===== Collection : Bougies Herbes & Ã‰nergies ===== -->
<section class="section" aria-labelledby="herbes">
  <div class="wrap">
    <h2 id="herbes">Bougies â€œHerbes & Ã‰nergiesâ€</h2>
    <p class="sub">HerbacÃ©es et poÃ©tiques â€” romarin, thym, anis Ã©toilÃ©, sauge. Mantras inclus.</p>

    <div class="grid">

      <!-- Romarin â€” ClartÃ© -->
      <article class="card product" data-id="HERB-ROMARIN" data-name="Romarin â€” ClartÃ©" data-price="14">
        <img src="https://placehold.co/800x800/ecfdf5/065f46?text=Romarin"
             alt="Bougie au romarin â€” ClartÃ©" width="800" height="800" loading="lazy">
        <div class="card-body">
          <span class="badge">Herbe sacrÃ©e</span>
          <h3>Romarin â€” ClartÃ©</h3>
          <p>Frais, herbacÃ©, purifiant.</p>
          <p class="tiny" style="opacity:.8">Mantra : Â« Mon esprit est clair. Â»</p>
          <p class="price">14 â‚¬</p>
          <div class="card-actions">
            <button class="btn btn-primary addToCart">PrÃ©-commander</button>
          </div>
        </div>
      </article>

      <!-- Thym â€” VitalitÃ© -->
      <article class="card product" data-id="HERB-THYM" data-name="Thym â€” VitalitÃ©" data-price="14">
        <img src="https://placehold.co/800x800/fff7ed/9a3412?text=Thym"
             alt="Bougie au thym â€” VitalitÃ©" width="800" height="800" loading="lazy">
        <div class="card-body">
          <span class="badge">Herbe sacrÃ©e</span>
          <h3>Thym â€” VitalitÃ©</h3>
          <p>Notes vertes et revigorantes.</p>
          <p class="tiny" style="opacity:.8">Mantra : Â« Mon Ã©nergie se renouvelle. Â»</p>
          <p class="price">14 â‚¬</p>
          <div class="card-actions">
            <button class="btn btn-primary addToCart">PrÃ©-commander</button>
          </div>
        </div>
      </article>

      <!-- Anis Ã©toilÃ© â€” Harmonie -->
      <article class="card product" data-id="HERB-ANIS" data-name="Anis Ã©toilÃ© â€” Harmonie" data-price="14">
        <img src="https://placehold.co/800x800/fef2f2/991b1b?text=Anis"
             alt="Bougie Ã  lâ€™anis Ã©toilÃ© â€” Harmonie" width="800" height="800" loading="lazy">
        <div class="card-body">
          <span class="badge">Herbe sacrÃ©e</span>
          <h3>Anis Ã©toilÃ© â€” Harmonie</h3>
          <p>Ã‰picÃ©, lÃ©gÃ¨rement sucrÃ©.</p>
          <p class="tiny" style="opacity:.8">Mantra : Â« Corps et Ã¢me Ã  lâ€™unisson. Â»</p>
          <p class="price">14 â‚¬</p>
          <div class="card-actions">
            <button class="btn btn-primary addToCart">PrÃ©-commander</button>
          </div>
        </div>
      </article>

      <!-- Sauge â€” Protection -->
      <article class="card product" data-id="HERB-SAUGE" data-name="Sauge â€” Protection" data-price="14">
        <img src="https://placehold.co/800x800/e0e7ff/312e81?text=Sauge"
             alt="Bougie Ã  la sauge â€” Protection" width="800" height="800" loading="lazy">
        <div class="card-body">
          <span class="badge">Herbe sacrÃ©e</span>
          <h3>Sauge â€” Protection</h3>
          <p>Sec et spirituel, pour purifier lâ€™atmosphÃ¨re.</p>
          <p class="tiny" style="opacity:.8">Mantra : Â« Je libÃ¨re et jâ€™accueille le neuf. Â»</p>
          <p class="price">14 â‚¬</p>
          <div class="card-actions">
            <button class="btn btn-primary addToCart">PrÃ©-commander</button>
          </div>
        </div>
      </article>

    </div>
  </div>
</section>

 <aside id="cartDrawer" class="cart-drawer" aria-hidden="true" role="dialog" aria-labelledby="cartTitle">
  <div class="cart-header">
    <h2 id="cartTitle">Votre panier</h2>
    <button id="closeCartBtn" class="cart-close" aria-label="Fermer">Ã—</button>
  </div>
  
  <div id="cartItems" class="cart-items"></div>
  
  <div class="cart-footer">
    <div class="cart-total">
      Total : <span id="cartTotal">0 â‚¬</span>
    </div>

    <div class="cart-actions">
      <button id="clearCartBtn" class="btn">Vider</button>
      <!-- Bouton PayPal -->
      <div id="paypal-button-container" style="margin-top:10px; width:100%;"></div>
    </div>
    
    <p class="tiny" style="margin-top:8px;">
      Paiement sÃ©curisÃ© via PayPal (CB ou compte).  
      LibellÃ© : <b>EternaGlow</b> + vos produits.
    </p>
  </div>
</aside>
<!-- SDK PayPal (sandbox pour tests : remplace 'sb' par ton vrai client-id quand tu l'auras) -->
<script src="https://www.paypal.com/sdk/js?client-id=sb&currency=EUR"></script>

<script>
  // Convertit "12,50 â‚¬" -> "12.50"
  function getCartTotalNumber() {
    const raw = (document.getElementById('cartTotal')?.textContent || '0')
      .replace(/\s/g,'').replace('â‚¬','').replace(',', '.');
    const n = parseFloat(raw);
    return isNaN(n) ? 0 : Number(n.toFixed(2));
  }

  function renderPayPalButtons() {
    const container = document.getElementById('paypal-button-container');
    if (!window.paypal || !container) return;

    // RecrÃ©er proprement si on rouvre le panier
    container.innerHTML = '';

    paypal.Buttons({
      style: { layout: 'vertical', color: 'gold', shape: 'rect', label: 'paypal' },

      createOrder: (data, actions) => {
        const total = getCartTotalNumber();
        if (total <= 0) {
          alert("Votre panier est vide.");
          throw new Error('Empty cart');
        }

        const produits = Array.from(document.querySelectorAll('#cartItems .line-info strong'))
          .map(el => el.textContent.trim());

        const description = 'EternaGlow â€” ' + (produits.join(', ') || 'Commande');

        return actions.order.create({
          purchase_units: [{
            description,
            amount: { currency_code: 'EUR', value: total },
            custom_id: 'EternaGlow-' + Date.now()
          }]
        });
      },

      onApprove: (data, actions) =>
        actions.order.capture().then(details => {
          alert(`Merci ${details.payer?.name?.given_name || ''} âœ¨, paiement confirmÃ© !`);
          window.location.href = 'merci.html';
        }),

      onError: (err) => {
        console.error(err);
        alert("Paiement PayPal indisponible pour lâ€™instant.");
      }
    }).render('#paypal-button-container');
  }

  // Rendre au chargement et Ã  lâ€™ouverture du panier
  document.addEventListener('DOMContentLoaded', renderPayPalButtons);
  document.getElementById('openCartBtn')?.addEventListener('click', renderPayPalButtons);

  // IMPORTANT : aprÃ¨s chaque add/remove produit dans ton script de panier,
  // appelle aussi renderPayPalButtons() pour rafraÃ®chir le montant.
</script>
  
  <footer class="site-footer">
    <div class="wrap">
      <p>Â© 2025 EternaGlow â€” Tous droits rÃ©servÃ©s</p>
      <nav class="footer-nav"><a href="mentions-legales.html">Mentions lÃ©gales</a><a href="politique-confidentialite.html">ConfidentialitÃ©</a></nav>
    </div>
  </footer>

  <script src="script.js"></script>
</body>
</html>
